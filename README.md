# Your custom Twilio Flex Plugin

Twilio Flex Plugins allow you to customize the appearance and behavior of [Twilio Flex](https://www.twilio.com/flex). If you want to learn more about the capabilities and how to use the API, check out our [Flex documentation](https://www.twilio.com/docs/flex).

## Setup

### Prerequisite

First, make sure you have [Node.js](https://nodejs.org) installed - we recommend using the LTS version.

Next, install the [Twilio CLI](https://www.twilio.com/docs/twilio-cli/quickstart). 

Finally, install the Plugins CLI extension using

```bash
twilio plugins:install @twilio-labs/plugin-flex@beta
```

### Install Package

Clone this repo and install the dependencies:

```bash
git clone https://github.com/travisneids/flex-plugin-paste
cd flex-plugin-paste

# If using npm
UNBUNDLED_REACT=true npm install

# If using yarn
UNBUNDLED_REACT=true yarn install
```

## Local Development

To run a local development server, run:

```bash
UNBUNDLED_REACT=true twilio flex:plugins:start
```

This will automatically start up the Webpack Dev Server and open the browser for you. Your app will run on `http://localhost:3000`. If you want to change that you can do this by setting the `PORT` environment variable:

```bash
PORT=3001 UNBUNDLED_REACT=true twilio flex:plugins:start
```

When you make changes to your code, the browser window will be automatically refreshed.

## Deploy and Release

When you are ready to deploy your plugin, in your terminal run:

```bash
UNBUNDLED_REACT=true twilio flex:plugins:deploy --changelog "My first changes"
```

This will publish your plugin as a Private Asset that is accessible by the Functions & Assets API. If you want to deploy your plugin as a Public Asset, you may pass --public to your deploy command:

```bash
UNBUNDLED_REACT=true twilio flex:plugins:deploy --changelog "My first changes" --public
```

Once the bundle has been deployed, you will need to release it on your contact-center. In your terminal, you'll be giving `Next Steps` instruction to do so. Make any changes you see fit and run it:

```bash
# Make any changes you want to the --name and --description 
twilio flex:plugins:release --plugin flex-plugin-ahoy@0.0.1 --name "Autogenerated Release 1614972028413" --description "The description of this Flex Plugin Configuration."
```

For more details on deploying your plugin, refer to the [deploying your plugin guide](https://www.twilio.com/docs/flex/plugins#deploying-your-plugin).

Note: Common packages like `React`, `ReactDOM`, `Redux` and `ReactRedux` are not bundled with the build because they are treated as external dependencies, so the plugin will depend on Flex to provide them globally.
